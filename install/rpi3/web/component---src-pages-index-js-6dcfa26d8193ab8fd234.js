(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{145:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(151),s=n(7),o=n.n(s),c=n(141),u=n.n(c),l=function(e){function t(t){var n;return(n=e.call(this,t)||this).getCurrentDate=function(){return(new Date).toLocaleDateString("es-ES",{weekday:"long",month:"long",day:"numeric"})},n.getCurrentTime=function(){var e=(new Date).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"});return"00:00"===e&&n.setState({date:n.getCurrentDate()}),e},n.state={time:n.getCurrentTime(),date:n.getCurrentDate()},n}o()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this.timer=setInterval(function(){e.setState({time:e.getCurrentTime()})},1e4)},n.componentWillUnmount=function(){clearInterval(this.timer)},n.render=function(){return r.a.createElement("div",{className:u.a.clock},r.a.createElement("div",{className:u.a.date},this.state.date,","),r.a.createElement("div",{className:u.a.time},this.state.time))},t}(r.a.Component),m=(n(159),n(160),n(78),n(56),n(80),n(142)),d=n.n(m),f=function(e){function t(t){var a;(a=e.call(this,t)||this).getReservations=function(){fetch("http://"+a.config.Rpi3APIAddress+":"+a.config.Rpi3APIPort+"/reservations").then(function(e){return e.json()}).then(function(e){return a.setState({reservations:e})}).catch(function(e){return console.log("Request failed",e)})},a.updateCurrentTime=function(){var e=new Date;a.currentHour=e.getHours(),a.currentMinutes=e.getMinutes()},a.getCard=function(e,t){var n=e.EndTime.split(":");return a.currentHour<n[0]||a.currentHour==n[0]&&a.currentMinutes<n[1]?r.a.createElement("div",{key:t,className:d.a.card},r.a.createElement("div",{className:d.a.subject},e.Subject),r.a.createElement("div",{className:d.a.study},e.Study),r.a.createElement("div",{className:d.a.classroom},e.Classroom," de ",e.StartTime," a ",e.EndTime),r.a.createElement("div",{className:d.a.professor},e.Professor)):null},a.createCards=function(){a.updateCurrentTime();var e=[],t=a.state.reservations.entries(),n=Array.isArray(t),i=0;for(t=n?t:t[Symbol.iterator]();;){var s;if(n){if(i>=t.length)break;s=t[i++]}else{if((i=t.next()).done)break;s=i.value}var o=s,c=o[0],u=o[1];if(null!=a.getCard(u,c)&&e.push(a.getCard(u,c)),4===e.length)break}return 0!==e.length?e:r.a.createElement("div",{className:d.a.endCard},"No hay reservas para el día de hoy o ya han finalizado todas las reservas")},a.state={reservations:[]},a.currentHour=0,a.currentMinutes=0;try{a.config=n(!function(){var e=new Error("Cannot find module '/etc/rpi3_conf.json'");throw e.code="MODULE_NOT_FOUND",e}())}catch(i){a.config=n(150)}return a}o()(t,e);var a=t.prototype;return a.render=function(){return this.createCards()},a.componentDidMount=function(){var e=this;this.getReservations(),this.timer=setInterval(function(){e.getReservations()},6e4)},a.componentWillUnmount=function(){clearInterval(this.timer)},t}(r.a.Component),p=n(143),h=n.n(p),v=function(e){function t(t){var a;(a=e.call(this,t)||this).getValues=function(){fetch("http://"+a.config.Rpi2APIAddress+":"+a.config.Rpi2APIPort+"/cpd-status").then(function(e){return e.json()}).then(function(e){return a.setState({cpdStatus:e})}).catch(function(e){return console.log("Request failed",e)})},a.state={cpdStatus:[]};try{a.config=n(!function(){var e=new Error("Cannot find module '/etc/rpi3_conf.json'");throw e.code="MODULE_NOT_FOUND",e}())}catch(r){a.config=n(150)}return a}o()(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=this;this.getValues(),this.timer=setInterval(function(){e.getValues()},6e4)},a.componentWillUnmount=function(){clearInterval(this.timer)},a.render=function(){var e="La temperatura en el CPD es de "+this.state.cpdStatus.temperature+" ºC"+"   •   "+("La humedad en el CPD está al "+this.state.cpdStatus.humidity+" %")+"   •   "+("El estado de la batería del SAI es "+this.state.cpdStatus["ups status (LDI rack)"]+".")+"      •      ";return r.a.createElement("div",{className:h.a.marquee},r.a.createElement("pre",null,e),r.a.createElement("pre",null,e),r.a.createElement("pre",null,e))},t}(r.a.Component);t.default=function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement(i.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"LDI"),r.a.createElement("meta",{"http-equiv":"Content-Language",content:"es"})),r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"headerTitle"},r.a.createElement("h1",null,"Laboratorio del Departamento de Informática")),r.a.createElement("div",{className:"datetime"},r.a.createElement(l,null))),r.a.createElement("main",{className:"main"}),r.a.createElement("aside",{className:"aside"},r.a.createElement(f,null)),r.a.createElement("footer",{className:"footer"},r.a.createElement(v,null)))}},150:function(e){e.exports={Rpi2APIAddress:"163.117.170.102",Rpi2APIPort:3e3,Rpi3APIAddress:"163.117.170.103",Rpi3APIPort:3e3,Rpi2APIAuthorizedToken:"Bearer top_secret_string",HueBridgeAddress:"192.168.1.123",HueBridgeToken:"top_secret_string",AlarmSoundPath:"/path/to/file/mp3"}}}]);
//# sourceMappingURL=component---src-pages-index-js-6dcfa26d8193ab8fd234.js.map