{"version":3,"sources":["webpack:///./src/components/clock/clock.js","webpack:///./src/components/main/main.js","webpack:///./src/components/footer/footer.js","webpack:///./src/pages/index.js"],"names":["Clock","props","_this","_React$Component","call","this","getCurrentDate","Date","toLocaleDateString","weekday","month","day","getCurrentTime","time","toLocaleTimeString","hour","minute","setState","date","state","componentDidMount","_this2","timer","setInterval","componentWillUnmount","clearInterval","render","react_default","a","createElement","className","styles","clock","React","Component","Main","getReservations","fetch","config","Rpi3APIAddress","Rpi3APIPort","then","response","json","reservations","catch","error","console","log","getClassrooms","classrooms","getOccupation","occupation","updateCurrentTime","currentHour","getHours","currentMinutes","getMinutes","getCardDiv","r","i","globalState","lastShow","reservationsNum","key","card","subject","study","classroom","getComputerDiv","c","ip","shutdown","includes","toString","linux","windows","linuxUser","windowsUser","timeout","getClassroomDiv","arrow","logins","undefined","length","LoginsLinux","LoginsWindows","free","indicators","join","occupied","reserved","futureOccupied","getCardsArray","cards","_iterator","entries","_isArray","Array","isArray","_i","Symbol","iterator","_ref","next","done","value","_ref2","push","endCard","getComputersArray","classroomMap","_iterator2","classroomToShow","Computers","_isArray2","_i2","_ref3","_ref4","article","aside","divs","require","e","Error","code","_unused","timer1","timer2","timer3","Footer","getValues","Rpi2APIAddress","Rpi2APIPort","cpdStatus","message","marquee","__webpack_exports__","Helmet","charSet","http-equiv","content","main","footer"],"mappings":"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","file":"component---src-pages-index-js-da7b1ea4e38132cacf00.js","sourcesContent":["import React from \"react\"\nimport styles from \"./clock.module.css\"\n\nclass Clock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      time : this.getCurrentTime(),\n      date : this.getCurrentDate()\n    }\n  }\n  /**\n   * Gets current date\n   */\n  getCurrentDate = () => {\n    return new Date().toLocaleDateString(\"es-ES\", { weekday: 'short', month: 'short', day: 'numeric' });\n  }\n\n  /**\n   * Gets current time\n   */\n  getCurrentTime = () => {\n    let time = new Date().toLocaleTimeString(\"es-ES\", {hour: \"2-digit\", minute:\"2-digit\"});\n    if (time === \"0:00\") {\n      this.setState({date : this.getCurrentDate()})\n    }\n    return time;\n  }\n\n  componentDidMount() {\n    this.timer = setInterval(() => {\n      this.setState({time : this.getCurrentTime()});\n    }, 10000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer);\n  }\n  \n  render() {\n    return (\n      <div className={styles.clock}>\n        <div className={styles.date}>{this.state.date}</div>\n        <div className={styles.time}>{this.state.time}</div>\n      </div>\n    );\n  }\n}\n\nexport default Clock;","import React from \"react\"\nimport styles from \"./main.module.css\"\n\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      globalState: -1\n    }\n    this.reservations = []\n    this.occupation = []\n    this.classrooms = []\n    this.reservationsNum = 0\n    this.currentHour = 0\n    this.currentMinutes = 0\n    this.classroomToShow = 0\n    this.lastShow = 0\n    try { // Load config\n      this.config = require(\"/etc/rpi3_conf.json\")\n    } catch {\n      this.config = require(\"../../../../../config.json\")\n    }\n  }\n\n  /********** RPI3 API FUNCTIONS **********/\n\n  /**\n   * Makes HTTP GET request to rpi3 API to get JSON including today reservations\n   */\n  getReservations = () => {\n    fetch(\"http://\" + this.config.Rpi3APIAddress + \":\" + this.config.Rpi3APIPort + \"/reservations\")\n      .then(response => response.json())\n      .then(json => this.reservations = json)\n      .catch(error => console.log('Request HTTP GET /reservations failed', error))\n  }\n\n  /**\n   * Makes HTTP GET request to rpi3 API to get JSON including classrooms status\n   */\n  getClassrooms = () => {\n    fetch(\"http://\" + this.config.Rpi3APIAddress + \":\" + this.config.Rpi3APIPort + \"/classrooms\")\n      .then(response => response.json())\n      .then(json => this.classrooms = json)\n      .catch(error => console.log('Request HTTP GET /classrooms failed', error))\n  }\n\n  /**\n   * Makes HTTP GET request to rpi3 API to get JSON including occupation statistics\n   */\n  getOccupation = () => {\n    fetch(\"http://\" + this.config.Rpi3APIAddress + \":\" + this.config.Rpi3APIPort + \"/occupation\")\n      .then(response => response.json())\n      .then(json => this.occupation = json)\n      .catch(error => console.log('Request HTTP GET /occupation failed', error))\n  }\n\n  /********** AUXILIARY FUNCTIONS **********/\n\n  /**\n   * Updates the current time, used to display only future reservations\n   */\n  updateCurrentTime = () => {\n    let date = new Date();\n    this.currentHour = date.getHours();\n    this.currentMinutes = date.getMinutes();\n  }\n\n  /**\n   * Returns the html <div> object of a reservation needed by <article>\n   * @param {object} r info of a reservation\n   * @param {int}    i index to use to calculate react key of the div\n   */\n  getCardDiv = (r, i) => {\n    if (this.state.globalState === 1 && i <= this.lastShow && this.reservationsNum > 4) {\n      // if rotating, show next reservations (i >= 4)\n      return null\n    }\n    if (this.currentHour < r[\"EndHour\"] || (this.currentHour === r[\"EndHour\"] && this.currentMinutes < r[\"EndMinute\"])) {\n      return <div key={256+i} className={styles.card}>\n        <div className={styles.subject}>{r[\"Subject\"]}</div>\n        <div className={styles.study}>{r[\"Study\"]}</div>\n        <div className={styles.classroom}>{r[\"Classroom\"]} de {r[\"StartHour\"] + \":\" + \n          (r[\"StartMinute\"] === 0 ? \"00\" : r[\"StartMinute\"])} a {r[\"EndHour\"] + \":\" + \n          (r[\"EndMinute\"] === 0 ? \"00\" : r[\"EndMinute\"])}</div>\n      </div>;\n    }\n    return null\n  }\n\n  /**\n   * Returns the html <div> object of a computer needed by <article>\n   * @param {object} c info of a computer\n   * @param {int}    i index to use to calculate react key of the div\n   * @param {string} classroom classroom name\n   */\n  getComputerDiv = (c, i, classroom) => {\n    let ip = i\n    switch (classroom) {\n      case \"F16\":\n        ip += 101\n        break;\n      case \"F18\":\n        ip += 201\n        break;\n      case \"C05\":\n        ip += 51\n        break;\n      case \"C06\":\n        ip += 151\n        break;\n    }\n    switch (c) {\n      case 0:\n        return <div key={ip} className={styles.shutdown}>{(classroom.includes(\"F\"))? \"F\" + ip.toString() : \"C\" + ip.toString()}</div>\n      case 1:\n        return <div key={ip} className={styles.linux}>{(classroom.includes(\"F\"))? \"F\" + ip.toString() : \"C\" + ip.toString()}</div>\n      case 2:\n        return <div key={ip} className={styles.windows}>{(classroom.includes(\"F\"))? \"F\" + ip.toString() : \"C\" + ip.toString()}</div>\n      case 3:\n        return <div key={ip} className={styles.linuxUser}>{(classroom.includes(\"F\"))? \"F\" + ip.toString() : \"C\" + ip.toString()}</div>\n      case 4:\n        return <div key={ip} className={styles.windowsUser}>{(classroom.includes(\"F\"))? \"F\" + ip.toString() : \"C\" + ip.toString()}</div>\n      case 5:\n        return <div key={ip} className={styles.timeout}>{(classroom.includes(\"F\"))? \"F\" + ip.toString() : \"C\" + ip.toString()}</div>\n      default:\n        return <div key={ip}></div>\n    }\n  }\n\n    /**\n   * Returns the html <div> object of a classroom needed by <aside>\n   * @param {int}    i index to use to calculate react key of the div\n   * @param {string} c classroom\n   */\n  getClassroomDiv = (i, c) => {\n    let arrow = false\n    if (this.state.globalState-2 === i && this.state.globalState > 1) {\n      arrow = true\n    }\n    let classroom = \"\"\n    switch (i) {\n      case 0:\n        classroom = \"F16\"\n        break;\n      case 1:\n        classroom = \"F18\"\n        break;\n      case 2:\n        classroom = \"C05\"\n        break;\n      case 3:\n        classroom = \"C06\"\n        break;\n    }\n    let logins = 0\n    if (this.occupation !== undefined && this.occupation.length !== 0) {\n      logins = this.occupation[classroom].LoginsLinux + this.occupation[classroom].LoginsWindows\n    }\n    switch (this.classrooms[c]) {\n      case 0:\n        return <span>\n            <div key={i+400} className={(arrow)?\n              [styles.free, styles.arrow, styles.indicators].join(\" \"):\n              [styles.free, styles.indicators].join(\" \")}>\n                {logins}\n            </div>\n            <div key={i} className={styles.free}>{c}</div>\n            {/* <div key={i+405} className={[styles.free, styles.bar].join(\" \")}></div> */}\n          </span>\n      case 1:\n        return <span>\n            <div key={i+400} className={(arrow)?\n              [styles.occupied, styles.arrow, styles.indicators].join(\" \"):\n              [styles.occupied, styles.indicators].join(\" \")}>\n                {logins}\n              </div>\n            <div key={i} className={styles.occupied}>{c}</div>\n            {/* <div key={i+405} className={[styles.occupied, styles.bar].join(\" \")}></div> */}\n          </span>\n      case 2:\n        return <span>\n            <div key={i+400} className={(arrow)?\n              [styles.reserved, styles.arrow, styles.indicators].join(\" \"):\n              [styles.reserved, styles.indicators].join(\" \")}>\n                {logins}\n              </div>\n            <div key={i} className={styles.reserved}>{c}</div>\n            {/* <div key={i+405} className={[styles.reserved, styles.bar].join(\" \")}></div> */}\n          </span>\n      case 3:\n        return <span>\n            <div key={i+400} className={(arrow)?\n              [styles.futureOccupied, styles.arrow, styles.indicators].join(\" \"):\n              [styles.futureOccupied, styles.indicators].join(\" \")}>\n                {logins}\n              </div>\n            <div key={i} className={styles.futureOccupied}>{c}</div>\n            {/* <div key={i+405} className={[styles.futureOccupied, styles.bar].join(\" \")}></div> */}\n          </span>\n    }\n  }\n\n  /**\n   * Returns an array of html <div>, where every <div> is a reservation card\n   */\n  getCardsArray = () => {\n    this.updateCurrentTime()\n    let cards = [];\n    // Get reservations to show\n    for (const [i, r] of this.reservations.entries()) {\n      let card = this.getCardDiv(r, i)\n      if (card != null) {\n        cards.push(card)\n      }\n      if (cards.length === 4) {\n        this.lastShow = i\n        break;\n      }\n    }\n    // Return cards if any\n    if (cards.length !== 0) {\n      this.reservationsNum = this.reservations.length\n      return cards\n    }\n    return <div className={styles.endCard}>No hay reservas para el día de hoy o ya han finalizado todas las reservas</div>\n  }\n\n  /**\n   * Returns an array of html <div>, where every <div> is a computers of the same classroom\n   */\n  getComputersArray = () => {\n    let classroom = [\"F16\", \"F18\", \"C05\", \"C06\"]\n    let classroomMap = []\n    // Get computer status of the classroom\n    for (const [i, r] of this.occupation[classroom[this.classroomToShow]].Computers.entries()) {\n      classroomMap.push(this.getComputerDiv(r, i, classroom[this.classroomToShow]))\n    }\n    // Change between classrooms and update global state\n    this.classroomToShow = (this.classroomToShow + 1) % 4\n\n    return <div className={styles.classroom}>{classroomMap}</div>\n  }\n\n  /********** RENDER FUNCTIONS **********/\n\n  /**\n   * Article (left) component. Returns element to show on <article> tab.\n   */\n  article = () => {\n    if (this.state.globalState < 2) {\n      return <article className={styles.article}>{this.getCardsArray()}</article>\n    } else if (this.occupation.length !== 0) {\n      return <article className={styles.article}>{this.getComputersArray()}</article>\n    } else {\n      return <article className={styles.article}>{this.getCardsArray()}</article>\n    }\n  }\n\n  /**\n   * Aside (right) component. Returns element to show on <aside> tab.\n   */\n  aside = () => {\n    let divs = []\n    let i = 0\n    for (let c in this.classrooms) {\n      divs.push(this.getClassroomDiv(i, c))\n      i++\n    }\n    return <aside className={styles.aside}>{divs}</aside>\n  }\n\n  /********** REACT FUNCTIONS **********/\n\n  render() {\n    return (\n      <main>{this.article()}{this.aside()}</main>\n    );\n  }\n\n  componentDidMount() {\n    this.getReservations()\n    this.getClassrooms()\n    this.getOccupation()\n    console.log(this.state.globalState)\n    this.timer1 = setInterval(() => {\n      this.setState({globalState: (this.state.globalState + 1) % 6})\n      console.log(this.state.globalState)\n    }, 10000);\n    this.timer2 = setInterval(() => {\n      this.getReservations()\n      this.getClassrooms()\n    }, 10000);\n    this.timer3 = setInterval(() => {\n      this.getOccupation()\n    }, 60000);\n  }\n  componentWillUnmount() {\n    clearInterval(this.timer1);\n    clearInterval(this.timer2);\n    clearInterval(this.timer3);\n  }\n}\n\nexport default Main;","import React from \"react\"\nimport styles from \"./footer.module.css\"\n\nclass Footer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cpdStatus : []\n    }\n    try { // Load config\n      this.config = require(\"/etc/rpi3_conf.json\")\n    } catch {\n      this.config = require(\"../../../../../config.json\")\n    }\n  }\n\n  getValues = () => {\n    fetch(\"http://\" + this.config.Rpi2APIAddress + \":\" + this.config.Rpi2APIPort + \"/cpd-status\")\n      .then(response => response.json())\n      .then(json => this.setState({cpdStatus: json}))\n      .catch(error => console.log('Request failed', error))\n  }\n\n  componentDidMount() {\n    this.getValues()\n    this.timer = setInterval(() => {\n      this.getValues()\n    }, 60000);\n  }\n  \n  componentWillUnmount() {\n    clearInterval(this.timer);\n  }\n  \n  render() {\n    let temp = \"La temperatura en el CPD es de \" + this.state.cpdStatus[\"temperature\"] + \" ºC\"\n    let hum = \"La humedad en el CPD está al \" + this.state.cpdStatus[\"humidity\"] + \" %\"\n    let sai = \"El estado de la batería del SAI es \" + this.state.cpdStatus[\"ups status (LDI rack)\"] + \".\"\n    let message = temp + \"   •   \" + hum + \"   •   \" + sai + \"   •   \"\n    return (\n      <div className={styles.marquee}>\n        <pre>{message}</pre>\n        <pre>{message}</pre>\n        <pre>{message}</pre>\n      </div>\n    );\n  }\n}\n\nexport default Footer;","import React from \"react\"\nimport { Helmet } from \"react-helmet\"\n\nimport Clock from \"../components/clock/clock.js\"\nimport Main from \"../components/main/main.js\"\nimport Footer from \"../components/footer/footer.js\"\n\nexport default () => (\n  <div className=\"wrapper\">\n    <Helmet>\n      <meta charSet=\"utf-8\" />\n      <title>LDI</title>\n      <meta http-equiv=\"Content-Language\" content=\"es\" />\n    </Helmet>\n    <header className=\"header\">\n      <div className=\"headerTitle\">\n        {/* TODO: add logo */}\n        <h1>Laboratorio del Departamento de Informática</h1>\n      </div>\n      <div className=\"datetime\">\n        <Clock/>\n      </div>\n    </header>\n    <Main/>\n    <footer className=\"footer\">\n      <Footer/>\n    </footer>\n  </div>\n)\n"],"sourceRoot":""}